% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
%
\documentclass[
  a4paper]{article}
\usepackage{amsmath,amssymb}
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math} % this also loads fontspec
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
\usepackage{lmodern}
\ifPDFTeX\else
  % xetex/luatex font selection
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\usepackage[margin=1in]{geometry}
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{5}
\ifLuaTeX
  \usepackage{selnolig}  % disable illegal ligatures
\fi
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\urlstyle{same}
\hypersetup{
  pdftitle={Telco Customer Churn},
  pdfauthor={Marc Fortó Cornella \& Javier Herrer Torres},
  hidelinks,
  pdfcreator={LaTeX via pandoc}}

\title{Telco Customer Churn}
\usepackage{etoolbox}
\makeatletter
\providecommand{\subtitle}[1]{% add subtitle to \maketitle
  \apptocmd{\@title}{\par {\large #1 \par}}{}{}
}
\makeatother
\subtitle{SIM - Assignment 2}
\author{Marc Fortó Cornella \& Javier Herrer Torres}
\date{2023-12-20}

\begin{document}
\maketitle

{
\setcounter{tocdepth}{3}
\tableofcontents
}
GitHub was used as Version Control System for this project.

The contribution of each member is visible through the following
repository: \url{https://github.com/marcforto14/Telco_Customer_Churn}

And the task distribution:
\url{https://github.com/users/marcforto14/projects/1}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(car)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Loading required package: carData
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(missMDA)}
\FunctionTok{library}\NormalTok{(ggplot2)}
\FunctionTok{library}\NormalTok{(FactoMineR)}
\FunctionTok{library}\NormalTok{(chemometrics)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Loading required package: rpart
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{rm}\NormalTok{(}\AttributeTok{list =} \FunctionTok{ls}\NormalTok{())}
\NormalTok{customer\_churn }\OtherTok{\textless{}{-}} \FunctionTok{read.csv}\NormalTok{(}\StringTok{"WA\_Fn{-}UseC\_{-}Telco{-}Customer{-}Churn.csv"}\NormalTok{)}
\FunctionTok{par}\NormalTok{(}\AttributeTok{mfrow =} \FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{, }\DecValTok{1}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\hypertarget{data-preparation}{%
\section{Data Preparation}\label{data-preparation}}

\hypertarget{univariate-descriptive-analysis}{%
\subsection{Univariate Descriptive
Analysis}\label{univariate-descriptive-analysis}}

\hypertarget{qualitative-and-quantitative}{%
\subsubsection{Qualitative and
quantitative}\label{qualitative-and-quantitative}}

No structural errors were found (coding errors, trailing blanks in
labels, lower/upper case consistency, etc.).

Data types were properly adapted to categorical when required (using the
\texttt{as.factor} function).

Original numeric variables corresponding to qualitative concepts
(\texttt{SeniorCitizen}) were converted to factors.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{customer\_churn}\SpecialCharTok{$}\NormalTok{gender }\OtherTok{\textless{}{-}} \FunctionTok{as.factor}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{gender)}
\NormalTok{customer\_churn}\SpecialCharTok{$}\NormalTok{SeniorCitizen }\OtherTok{\textless{}{-}} \FunctionTok{factor}\NormalTok{(}
\NormalTok{  customer\_churn}\SpecialCharTok{$}\NormalTok{SeniorCitizen,}
  \AttributeTok{labels =} \FunctionTok{c}\NormalTok{(}\StringTok{"No"}\NormalTok{, }\StringTok{"Yes"}\NormalTok{)}
\NormalTok{)}
\NormalTok{customer\_churn}\SpecialCharTok{$}\NormalTok{Partner }\OtherTok{\textless{}{-}} \FunctionTok{as.factor}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{Partner)}
\NormalTok{customer\_churn}\SpecialCharTok{$}\NormalTok{Dependents }\OtherTok{\textless{}{-}} \FunctionTok{as.factor}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{Dependents)}
\NormalTok{customer\_churn}\SpecialCharTok{$}\NormalTok{PhoneService }\OtherTok{\textless{}{-}} \FunctionTok{as.factor}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{PhoneService)}
\NormalTok{customer\_churn}\SpecialCharTok{$}\NormalTok{MultipleLines }\OtherTok{\textless{}{-}} \FunctionTok{as.factor}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{MultipleLines)}
\NormalTok{customer\_churn}\SpecialCharTok{$}\NormalTok{InternetService }\OtherTok{\textless{}{-}} \FunctionTok{as.factor}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{InternetService)}
\NormalTok{customer\_churn}\SpecialCharTok{$}\NormalTok{OnlineSecurity }\OtherTok{\textless{}{-}} \FunctionTok{as.factor}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{OnlineSecurity)}
\NormalTok{customer\_churn}\SpecialCharTok{$}\NormalTok{OnlineBackup }\OtherTok{\textless{}{-}} \FunctionTok{as.factor}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{OnlineBackup)}
\NormalTok{customer\_churn}\SpecialCharTok{$}\NormalTok{DeviceProtection }\OtherTok{\textless{}{-}} \FunctionTok{as.factor}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{DeviceProtection)}
\NormalTok{customer\_churn}\SpecialCharTok{$}\NormalTok{TechSupport }\OtherTok{\textless{}{-}} \FunctionTok{as.factor}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{TechSupport)}
\NormalTok{customer\_churn}\SpecialCharTok{$}\NormalTok{StreamingTV }\OtherTok{\textless{}{-}} \FunctionTok{as.factor}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{StreamingTV)}
\NormalTok{customer\_churn}\SpecialCharTok{$}\NormalTok{StreamingMovies }\OtherTok{\textless{}{-}} \FunctionTok{as.factor}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{StreamingMovies)}
\NormalTok{customer\_churn}\SpecialCharTok{$}\NormalTok{Contract }\OtherTok{\textless{}{-}} \FunctionTok{as.factor}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{Contract)}
\NormalTok{customer\_churn}\SpecialCharTok{$}\NormalTok{PaperlessBilling }\OtherTok{\textless{}{-}} \FunctionTok{as.factor}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{PaperlessBilling)}
\NormalTok{customer\_churn}\SpecialCharTok{$}\NormalTok{PaymentMethod }\OtherTok{\textless{}{-}} \FunctionTok{as.factor}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{PaymentMethod)}
\NormalTok{customer\_churn}\SpecialCharTok{$}\NormalTok{Churn }\OtherTok{\textless{}{-}} \FunctionTok{as.factor}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{Churn)}
\end{Highlighting}
\end{Shaded}

Original numeric variables corresponding to real quantitative concepts
(\texttt{MonthlyCharges} and \texttt{tenure}) are kept as numeric but
additional factors are created as discretization of each numeric
variable (\texttt{f.MonthlyCharges} and \texttt{f.tenure}).

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{customer\_churn}\SpecialCharTok{$}\NormalTok{f.MonthlyCharges }\OtherTok{\textless{}{-}} \FunctionTok{cut}\NormalTok{(}
\NormalTok{  customer\_churn}\SpecialCharTok{$}\NormalTok{MonthlyCharges,}
  \AttributeTok{breaks =} \FunctionTok{quantile}\NormalTok{(}
\NormalTok{    customer\_churn}\SpecialCharTok{$}\NormalTok{MonthlyCharges,}
    \AttributeTok{probs =} \FunctionTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{, }\FloatTok{0.25}\NormalTok{, }\FloatTok{0.5}\NormalTok{, }\FloatTok{0.75}\NormalTok{, }\DecValTok{1}\NormalTok{)}
\NormalTok{  ),}
  \AttributeTok{labels =} \FunctionTok{c}\NormalTok{(}\StringTok{"Low"}\NormalTok{, }\StringTok{"Medium"}\NormalTok{, }\StringTok{"High"}\NormalTok{, }\StringTok{"Very high"}\NormalTok{),}
  \AttributeTok{include.lowest =} \ConstantTok{TRUE}
\NormalTok{)}
\NormalTok{customer\_churn}\SpecialCharTok{$}\NormalTok{f.tenure }\OtherTok{\textless{}{-}} \FunctionTok{cut}\NormalTok{(}
\NormalTok{  customer\_churn}\SpecialCharTok{$}\NormalTok{tenure,}
  \AttributeTok{breaks =} \FunctionTok{quantile}\NormalTok{(}
\NormalTok{    customer\_churn}\SpecialCharTok{$}\NormalTok{tenure,}
    \AttributeTok{probs =} \FunctionTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{, }\FloatTok{0.25}\NormalTok{, }\FloatTok{0.5}\NormalTok{, }\FloatTok{0.75}\NormalTok{, }\DecValTok{1}\NormalTok{)}
\NormalTok{  ),}
  \AttributeTok{labels =} \FunctionTok{c}\NormalTok{(}\StringTok{"Very short"}\NormalTok{, }\StringTok{"Short"}\NormalTok{, }\StringTok{"Long"}\NormalTok{, }\StringTok{"Very long"}\NormalTok{),}
  \AttributeTok{include.lowest =} \ConstantTok{TRUE}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{data-quality-report}{%
\subsubsection{Data quality report}\label{data-quality-report}}

\emph{variable 2: gender}

This is a binary categorical variable with a nearly balanced
distribution between females and males. It contains no missing values
thus imputation is not needed.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{prop.table}\NormalTok{(}\FunctionTok{table}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{gender))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
##    Female      Male 
## 0.4952435 0.5047565
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Missing values}
\FunctionTok{sum}\NormalTok{(}\FunctionTok{is.na}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{gender))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0
\end{verbatim}

\emph{variable 3: SeniorCitizen}

This is a binary categorical variable. It indicates that 84\% of the
customers are not senior citizens. There are no missing values, so
imputation is not required.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{prop.table}\NormalTok{(}\FunctionTok{table}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{SeniorCitizen))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
##        No       Yes 
## 0.8378532 0.1621468
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Missing values}
\FunctionTok{sum}\NormalTok{(}\FunctionTok{is.na}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{SeniorCitizen))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0
\end{verbatim}

\emph{variable 4: Partner}

This is a binary categorical variable with a nearly balanced
distribution between customers that has a partner or not. It contains no
missing values thus imputation is not needed.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{prop.table}\NormalTok{(}\FunctionTok{table}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{Partner))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
##        No       Yes 
## 0.5169672 0.4830328
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Missing values}
\FunctionTok{sum}\NormalTok{(}\FunctionTok{is.na}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{Partner))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0
\end{verbatim}

\emph{variable 5: Dependents}

This is a binary categorical variable. It indicates that 70\% of the
customers have dependents. There are no missing values, so imputation is
not required.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{prop.table}\NormalTok{(}\FunctionTok{table}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{Dependents))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
##        No       Yes 
## 0.7004118 0.2995882
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Missing values}
\FunctionTok{sum}\NormalTok{(}\FunctionTok{is.na}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{Dependents))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0
\end{verbatim}

\emph{variable 6: tenure}

tenure is a numerical variable with 0 NA's. Then we used a Boxplot to
visualize the distribution of the values of this variable. The variable
has no outliers.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Missing values}
\FunctionTok{sum}\NormalTok{(}\FunctionTok{is.na}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{tenure))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Univariant Outliers}
\FunctionTok{length}\NormalTok{(}\FunctionTok{Boxplot}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{tenure, }\AttributeTok{id =} \FunctionTok{list}\NormalTok{(}\AttributeTok{n =} \ConstantTok{Inf}\NormalTok{)))}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.5\linewidth]{telco_customer_churn_files/figure-latex/unnamed-chunk-8-1}

\begin{verbatim}
## [1] 0
\end{verbatim}

\emph{variable 7: PhoneService}

This is a binary categorical variable. It indicates that 90\% of the
customers have a phone service. There are no missing values, so
imputation is not required.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{prop.table}\NormalTok{(}\FunctionTok{table}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{PhoneService))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
##         No        Yes 
## 0.09683374 0.90316626
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Missing values}
\FunctionTok{sum}\NormalTok{(}\FunctionTok{is.na}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{PhoneService))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0
\end{verbatim}

\emph{variable 8: MultipleLines}

This is a categorical variable with three levels. It indicates that 48\%
of the customers do not have multiple lines, 42\% do have multiple
lines, and the remaining 10\% do not have phone service. There are no
missing values, so imputation is not required.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{prop.table}\NormalTok{(}\FunctionTok{table}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{MultipleLines))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
##               No No phone service              Yes 
##       0.48132898       0.09683374       0.42183729
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Missing values}
\FunctionTok{sum}\NormalTok{(}\FunctionTok{is.na}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{MultipleLines))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0
\end{verbatim}

\emph{variable 9: InternetService}

This is a categorical variable with three levels. It indicates that 34\%
of the customers have DSL, 44\% have Fiber optic, and the remaining 22\%
do not have internet service. There are no missing values, so imputation
is not required.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{prop.table}\NormalTok{(}\FunctionTok{table}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{InternetService))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
##         DSL Fiber optic          No 
##   0.3437456   0.4395854   0.2166690
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Missing values}
\FunctionTok{sum}\NormalTok{(}\FunctionTok{is.na}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{InternetService))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0
\end{verbatim}

\emph{variable 10: OnlineSecurity}

This is a categorical variable with three levels. It indicates that 50\%
of the customers have no online security, 29\% have online security, and
the remaining 22\% do not have internet service. There are no missing
values, so imputation is not required.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{prop.table}\NormalTok{(}\FunctionTok{table}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{OnlineSecurity))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
##                  No No internet service                 Yes 
##           0.4966634           0.2166690           0.2866676
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Missing values}
\FunctionTok{sum}\NormalTok{(}\FunctionTok{is.na}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{OnlineSecurity))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0
\end{verbatim}

\emph{variable 11: OnlineBackup}

This is a categorical variable with three levels. It indicates that 44\%
of the customers have no online backup, 34\% have online backup, and the
remaining 22\% do not have internet service. There are no missing
values, so imputation is not required.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{prop.table}\NormalTok{(}\FunctionTok{table}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{OnlineBackup))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
##                  No No internet service                 Yes 
##           0.4384495           0.2166690           0.3448814
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Missing values}
\FunctionTok{sum}\NormalTok{(}\FunctionTok{is.na}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{OnlineBackup))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0
\end{verbatim}

\emph{variable 12: DeviceProtection}

This is a categorical variable with three levels. It indicates that 44\%
of the customers have no device protection, 34\% have device protection,
and the remaining 22\% do not have internet service. There are no
missing values, so imputation is not required.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{prop.table}\NormalTok{(}\FunctionTok{table}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{DeviceProtection))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
##                  No No internet service                 Yes 
##           0.4394434           0.2166690           0.3438875
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Missing values}
\FunctionTok{sum}\NormalTok{(}\FunctionTok{is.na}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{DeviceProtection))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0
\end{verbatim}

\emph{variable 13: TechSupport}

This is a categorical variable with three levels. It indicates that 49\%
of the customers have no tech support, 29\% have tech support, and the
remaining 22\% do not have internet service. There are no missing
values, so imputation is not required.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{prop.table}\NormalTok{(}\FunctionTok{table}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{TechSupport))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
##                  No No internet service                 Yes 
##           0.4931137           0.2166690           0.2902172
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Missing values}
\FunctionTok{sum}\NormalTok{(}\FunctionTok{is.na}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{TechSupport))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0
\end{verbatim}

\emph{variable 14: StreamingTV}

This is a categorical variable with three levels. It indicates that 40\%
of the customers have no streaming TV, 38\% have streaming TV, and the
remaining 22\% do not have internet service. There are no missing
values, so imputation is not required.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{prop.table}\NormalTok{(}\FunctionTok{table}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{StreamingTV))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
##                  No No internet service                 Yes 
##           0.3989777           0.2166690           0.3843533
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Missing values}
\FunctionTok{sum}\NormalTok{(}\FunctionTok{is.na}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{StreamingTV))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0
\end{verbatim}

\emph{variable 15: StreamingMovies}

This is a categorical variable with three levels. It indicates that 40\%
of the customers have no streaming movies, 39\% have streaming movies,
and the remaining 22\% do not have internet service. There are no
missing values, so imputation is not required.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{prop.table}\NormalTok{(}\FunctionTok{table}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{StreamingMovies))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
##                  No No internet service                 Yes 
##           0.3954281           0.2166690           0.3879029
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Missing values}
\FunctionTok{sum}\NormalTok{(}\FunctionTok{is.na}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{StreamingMovies))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0
\end{verbatim}

\emph{variable 16: Contract}

This is a categorical variable with three levels. It indicates that 55\%
of the customers have a Month-to-month contract term, 21\% have a One
year contract term, and the remaining 24\% have a Two year contract
term. There are no missing values, so imputation is not required.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{prop.table}\NormalTok{(}\FunctionTok{table}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{Contract))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
## Month-to-month       One year       Two year 
##      0.5501917      0.2091438      0.2406645
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Missing values}
\FunctionTok{sum}\NormalTok{(}\FunctionTok{is.na}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{Contract))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0
\end{verbatim}

\emph{variable 17: PaperlessBilling}

This is a binary categorical variable. It indicates that 59\% of the
customers have a paperless billing. There are no missing values, so
imputation is not required.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{prop.table}\NormalTok{(}\FunctionTok{table}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{PaperlessBilling))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
##        No       Yes 
## 0.4077808 0.5922192
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Missing values}
\FunctionTok{sum}\NormalTok{(}\FunctionTok{is.na}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{PaperlessBilling))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0
\end{verbatim}

\emph{variable 18: PaymentMethod}

This is a categorical variable with four levels. Electronic check
appears to be the most frequently used method, followed by mailed check,
credit card (automatic), and bank transfer (automatic) similarly
distributed. There are no missing values, so imputation is not required.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{prop.table}\NormalTok{(}\FunctionTok{table}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{PaymentMethod))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
## Bank transfer (automatic)   Credit card (automatic)          Electronic check 
##                 0.2192248                 0.2161011                 0.3357944 
##              Mailed check 
##                 0.2288797
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Missing values}
\FunctionTok{sum}\NormalTok{(}\FunctionTok{is.na}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{PaymentMethod))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0
\end{verbatim}

\emph{variable 19: MonthlyCharges}

MonthlyCharges is a numerical variable with 0 NA's. We used a Boxplot to
visualize the distribution of the values of this variable. The variable
has no outliers.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Missing values}
\FunctionTok{sum}\NormalTok{(}\FunctionTok{is.na}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{MonthlyCharges))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Univariant Outliers}
\FunctionTok{length}\NormalTok{(}\FunctionTok{Boxplot}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{MonthlyCharges, }\AttributeTok{id =} \FunctionTok{list}\NormalTok{(}\AttributeTok{n =} \ConstantTok{Inf}\NormalTok{)))}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.5\linewidth]{telco_customer_churn_files/figure-latex/unnamed-chunk-21-1}

\begin{verbatim}
## [1] 0
\end{verbatim}

\emph{variable 20: TotalCharges}

TotalCharges is a numerical variable with 11 NA's. These NA's correspond
to customers with 0 month of tenure with the company. We will then equal
their TotalCharges to 0. We used a Boxplot to visualize the distribution
of the values of this variable. The variable has no outliers. We create
an additional ordinal TotalCharges factor ``f.TotalCharges'' to create a
discretisation according to the quartiles.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Missing values}
\FunctionTok{sum}\NormalTok{(}\FunctionTok{is.na}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{TotalCharges))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 11
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ll\_na }\OtherTok{\textless{}{-}} \FunctionTok{which}\NormalTok{(}\FunctionTok{is.na}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{TotalCharges))}
\NormalTok{customer\_churn[ll\_na,]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##      customerID gender SeniorCitizen Partner Dependents tenure PhoneService
## 489  4472-LVYGI Female            No     Yes        Yes      0           No
## 754  3115-CZMZD   Male            No      No        Yes      0          Yes
## 937  5709-LVOEQ Female            No     Yes        Yes      0          Yes
## 1083 4367-NUYAO   Male            No     Yes        Yes      0          Yes
## 1341 1371-DWPAZ Female            No     Yes        Yes      0           No
## 3332 7644-OMVMY   Male            No     Yes        Yes      0          Yes
## 3827 3213-VVOLG   Male            No     Yes        Yes      0          Yes
## 4381 2520-SGTTA Female            No     Yes        Yes      0          Yes
## 5219 2923-ARZLG   Male            No     Yes        Yes      0          Yes
## 6671 4075-WKNIU Female            No     Yes        Yes      0          Yes
## 6755 2775-SEFEE   Male            No      No        Yes      0          Yes
##         MultipleLines InternetService      OnlineSecurity        OnlineBackup
## 489  No phone service             DSL                 Yes                  No
## 754                No              No No internet service No internet service
## 937                No             DSL                 Yes                 Yes
## 1083              Yes              No No internet service No internet service
## 1341 No phone service             DSL                 Yes                 Yes
## 3332               No              No No internet service No internet service
## 3827              Yes              No No internet service No internet service
## 4381               No              No No internet service No internet service
## 5219               No              No No internet service No internet service
## 6671              Yes             DSL                  No                 Yes
## 6755              Yes             DSL                 Yes                 Yes
##         DeviceProtection         TechSupport         StreamingTV
## 489                  Yes                 Yes                 Yes
## 754  No internet service No internet service No internet service
## 937                  Yes                  No                 Yes
## 1083 No internet service No internet service No internet service
## 1341                 Yes                 Yes                 Yes
## 3332 No internet service No internet service No internet service
## 3827 No internet service No internet service No internet service
## 4381 No internet service No internet service No internet service
## 5219 No internet service No internet service No internet service
## 6671                 Yes                 Yes                 Yes
## 6755                  No                 Yes                  No
##          StreamingMovies Contract PaperlessBilling             PaymentMethod
## 489                   No Two year              Yes Bank transfer (automatic)
## 754  No internet service Two year               No              Mailed check
## 937                  Yes Two year               No              Mailed check
## 1083 No internet service Two year               No              Mailed check
## 1341                  No Two year               No   Credit card (automatic)
## 3332 No internet service Two year               No              Mailed check
## 3827 No internet service Two year               No              Mailed check
## 4381 No internet service Two year               No              Mailed check
## 5219 No internet service One year              Yes              Mailed check
## 6671                  No Two year               No              Mailed check
## 6755                  No Two year              Yes Bank transfer (automatic)
##      MonthlyCharges TotalCharges Churn f.MonthlyCharges   f.tenure
## 489           52.55           NA    No           Medium Very short
## 754           20.25           NA    No              Low Very short
## 937           80.85           NA    No             High Very short
## 1083          25.75           NA    No              Low Very short
## 1341          56.05           NA    No           Medium Very short
## 3332          19.85           NA    No              Low Very short
## 3827          25.35           NA    No              Low Very short
## 4381          20.00           NA    No              Low Very short
## 5219          19.70           NA    No              Low Very short
## 6671          73.35           NA    No             High Very short
## 6755          61.90           NA    No           Medium Very short
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{customer\_churn}\SpecialCharTok{$}\NormalTok{TotalCharges[ll\_na] }\OtherTok{=} \DecValTok{0}

\CommentTok{\# Univariant Outliers}
\FunctionTok{length}\NormalTok{(}\FunctionTok{Boxplot}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{TotalCharges, }\AttributeTok{id =} \FunctionTok{list}\NormalTok{(}\AttributeTok{n =} \ConstantTok{Inf}\NormalTok{)))}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.5\linewidth]{telco_customer_churn_files/figure-latex/unnamed-chunk-22-1}

\begin{verbatim}
## [1] 0
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{customer\_churn}\SpecialCharTok{$}\NormalTok{f.TotalCharges }\OtherTok{\textless{}{-}} \FunctionTok{cut}\NormalTok{(}
\NormalTok{  customer\_churn}\SpecialCharTok{$}\NormalTok{TotalCharges,}
  \AttributeTok{breaks =} \FunctionTok{quantile}\NormalTok{(}
\NormalTok{    customer\_churn}\SpecialCharTok{$}\NormalTok{TotalCharges,}
    \AttributeTok{probs =} \FunctionTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{, }\FloatTok{0.25}\NormalTok{, }\FloatTok{0.5}\NormalTok{, }\FloatTok{0.75}\NormalTok{, }\DecValTok{1}\NormalTok{)}
\NormalTok{  ),}
  \AttributeTok{labels =} \FunctionTok{c}\NormalTok{(}\StringTok{"Low"}\NormalTok{, }\StringTok{"Medium"}\NormalTok{, }\StringTok{"High"}\NormalTok{, }\StringTok{"Very high"}\NormalTok{),}
  \AttributeTok{include.lowest =} \ConstantTok{TRUE}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\emph{variable 21: Churn}

This is a binary categorical target variable. It indicates that 73\% of
the customers do not churned. There are no missing values, so imputation
is not required.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{prop.table}\NormalTok{(}\FunctionTok{table}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{Churn))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
##        No       Yes 
## 0.7346301 0.2653699
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Missing values}
\FunctionTok{sum}\NormalTok{(}\FunctionTok{is.na}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{Churn))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0
\end{verbatim}

\textbf{Inconsistencies}

There are no inconsistencies on the Phone Service and Internet Service
variables.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Phone Service}
\FunctionTok{sum}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{PhoneService }\SpecialCharTok{==} \StringTok{"No"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 682
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{sum}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{PhoneService }\SpecialCharTok{==} \StringTok{"No"} \SpecialCharTok{|}\NormalTok{ customer\_churn}\SpecialCharTok{$}\NormalTok{MultipleLines }\SpecialCharTok{==} \StringTok{"No internet service"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 682
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Internet Service}
\FunctionTok{sum}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{InternetService }\SpecialCharTok{==} \StringTok{"No"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 1526
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{sum}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{InternetService }\SpecialCharTok{==} \StringTok{"No"} \SpecialCharTok{|}\NormalTok{ customer\_churn}\SpecialCharTok{$}\NormalTok{OnlineSecurity }\SpecialCharTok{==} \StringTok{"No internet service"} \SpecialCharTok{|}\NormalTok{ customer\_churn}\SpecialCharTok{$}\NormalTok{OnlineBackup }\SpecialCharTok{==} \StringTok{"No internet service"} \SpecialCharTok{|}\NormalTok{ customer\_churn}\SpecialCharTok{$}\NormalTok{DeviceProtection }\SpecialCharTok{==} \StringTok{"No internet service"} \SpecialCharTok{|}\NormalTok{ customer\_churn}\SpecialCharTok{$}\NormalTok{TechSupport }\SpecialCharTok{==} \StringTok{"No internet service"} \SpecialCharTok{|}\NormalTok{ customer\_churn}\SpecialCharTok{$}\NormalTok{StreamingTV }\SpecialCharTok{==} \StringTok{"No internet service"} \SpecialCharTok{|}\NormalTok{ customer\_churn}\SpecialCharTok{$}\NormalTok{StreamingMovies }\SpecialCharTok{==} \StringTok{"No internet service"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 1526
\end{verbatim}

\textbf{Variables}

After exploring all variables, only `TotalCharges' exhibits missing
data, placing it last in terms of missingness. No variables show
univariate outliers, suggesting minimal noise in the dataset.

\textbf{Multivariate Outliers}

Moutlier is applied on the 3 only numerical variables to find
multivariate outliers. A threshold of 2\% is chosen as significance
level because it already returns a significant amount of outliers, more
exactly around 2.5\% of instances. It is chosen to delete these outliers
from the data set for the rest of the project. Almost all of these
outliers correspond to customers with Very Long tenure, Low Monthly
Charges and Medium/High Total Charges.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{res.out }\OtherTok{\textless{}{-}} \FunctionTok{Moutlier}\NormalTok{(customer\_churn[, }\FunctionTok{c}\NormalTok{(}\DecValTok{6}\NormalTok{,}\DecValTok{19}\NormalTok{,}\DecValTok{20}\NormalTok{)], }\AttributeTok{quantile =} \FloatTok{0.98}\NormalTok{, }\AttributeTok{col =} \StringTok{"blue"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.5\linewidth]{telco_customer_churn_files/figure-latex/unnamed-chunk-25-1}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#which((res.out$md \textgreater{} res.out$cutoff) \& (res.out$rd \textgreater{} res.out$cutoff))}
\FunctionTok{length}\NormalTok{(}\FunctionTok{which}\NormalTok{((res.out}\SpecialCharTok{$}\NormalTok{md }\SpecialCharTok{\textgreater{}}\NormalTok{ res.out}\SpecialCharTok{$}\NormalTok{cutoff) }\SpecialCharTok{\&}\NormalTok{ (res.out}\SpecialCharTok{$}\NormalTok{rd }\SpecialCharTok{\textgreater{}}\NormalTok{ res.out}\SpecialCharTok{$}\NormalTok{cutoff))) }\SpecialCharTok{/} \DecValTok{7043}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0.02484737
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{par}\NormalTok{(}\AttributeTok{mfrow =} \FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{, }\DecValTok{1}\NormalTok{))}
\FunctionTok{plot}\NormalTok{(res.out}\SpecialCharTok{$}\NormalTok{md, res.out}\SpecialCharTok{$}\NormalTok{rd)}
\FunctionTok{abline}\NormalTok{(}\AttributeTok{h =}\NormalTok{ res.out}\SpecialCharTok{$}\NormalTok{cutoff, }\AttributeTok{col =} \StringTok{"red"}\NormalTok{)}
\FunctionTok{abline}\NormalTok{(}\AttributeTok{v =}\NormalTok{ res.out}\SpecialCharTok{$}\NormalTok{cutoff, }\AttributeTok{col =} \StringTok{"red"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.5\linewidth]{telco_customer_churn_files/figure-latex/unnamed-chunk-25-2}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# summary(house\_prices[which((res.out$md \textgreater{} res.out$cutoff) \& (res.out$rd \textgreater{} res.out$cutoff)), ])}
\CommentTok{\# summary(house\_prices)}
\NormalTok{customer\_churn }\OtherTok{\textless{}{-}}\NormalTok{ customer\_churn[}\SpecialCharTok{{-}}\FunctionTok{which}\NormalTok{((res.out}\SpecialCharTok{$}\NormalTok{md }\SpecialCharTok{\textgreater{}}\NormalTok{ res.out}\SpecialCharTok{$}\NormalTok{cutoff) }\SpecialCharTok{\&}\NormalTok{ (res.out}\SpecialCharTok{$}\NormalTok{rd }\SpecialCharTok{\textgreater{}}\NormalTok{ res.out}\SpecialCharTok{$}\NormalTok{cutoff)), ]}
\end{Highlighting}
\end{Shaded}

\hypertarget{split-data}{%
\section{Split data}\label{split-data}}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{set.seed}\NormalTok{(}\DecValTok{123}\NormalTok{)}
\NormalTok{train\_index }\OtherTok{\textless{}{-}} \FunctionTok{sample}\NormalTok{(}
  \FunctionTok{seq\_len}\NormalTok{(}\FunctionTok{nrow}\NormalTok{(customer\_churn)),}
  \AttributeTok{size =} \FunctionTok{floor}\NormalTok{(}\FloatTok{0.8} \SpecialCharTok{*} \FunctionTok{nrow}\NormalTok{(customer\_churn))}
\NormalTok{)}

\NormalTok{customer\_churn\_test }\OtherTok{\textless{}{-}}\NormalTok{ customer\_churn[}\SpecialCharTok{{-}}\NormalTok{train\_index, ]}
\NormalTok{customer\_churn }\OtherTok{\textless{}{-}}\NormalTok{ customer\_churn[train\_index, ]}
\end{Highlighting}
\end{Shaded}

\hypertarget{exploratory-data-analysis}{%
\section{Exploratory Data Analysis}\label{exploratory-data-analysis}}

The most common number of months which the customer has stayed in the
company is very short and the histogram shows a U shape distribution.
This is, most clients stay short or long time, and not medium. With
clear predominance of the first group (very short tenure).

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(ggplot2)}

\FunctionTok{ggplot}\NormalTok{(customer\_churn, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ tenure)) }\SpecialCharTok{+}
  \FunctionTok{geom\_histogram}\NormalTok{(}\AttributeTok{bins =} \DecValTok{20}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}\AttributeTok{x =} \StringTok{"Tenure (months)"}\NormalTok{, }\AttributeTok{y =} \StringTok{"Count"}\NormalTok{, }\AttributeTok{title =} \StringTok{"Histogram of tenure"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{telco_customer_churn_files/figure-latex/unnamed-chunk-27-1.pdf}

Clients who leave have higher monthly charges than those who don't
leave.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggplot}\NormalTok{(customer\_churn, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ Churn, }\AttributeTok{y =}\NormalTok{ MonthlyCharges)) }\SpecialCharTok{+}
  \FunctionTok{geom\_boxplot}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}
    \AttributeTok{x =} \StringTok{"Churn"}\NormalTok{,}
    \AttributeTok{y =} \StringTok{"Monthly charges($)"}\NormalTok{,}
    \AttributeTok{title =} \StringTok{"Boxplot of monthly charges by churn"}
\NormalTok{  )}
\end{Highlighting}
\end{Shaded}

\includegraphics{telco_customer_churn_files/figure-latex/unnamed-chunk-28-1.pdf}

Clients who leave have mostly a month to month contract term.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggplot}\NormalTok{(customer\_churn, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ Contract, }\AttributeTok{fill =}\NormalTok{ Churn)) }\SpecialCharTok{+}
  \FunctionTok{geom\_bar}\NormalTok{(}\AttributeTok{position =} \StringTok{"dodge"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}
    \AttributeTok{x =} \StringTok{"Contract type"}\NormalTok{,}
    \AttributeTok{y =} \StringTok{"Count"}\NormalTok{,}
    \AttributeTok{title =} \StringTok{"Barplot of contract type by churn"}
\NormalTok{  )}
\end{Highlighting}
\end{Shaded}

\includegraphics{telco_customer_churn_files/figure-latex/unnamed-chunk-29-1.pdf}

Clients who leave have are charged a low total amount and high monthly
amount.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggplot}\NormalTok{(}
\NormalTok{  customer\_churn,}
  \FunctionTok{aes}\NormalTok{(}
    \AttributeTok{x =}\NormalTok{ TotalCharges,}
    \AttributeTok{y =}\NormalTok{ MonthlyCharges,}
    \AttributeTok{color =}\NormalTok{ Churn}
\NormalTok{  )}
\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_point}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}
    \AttributeTok{x =} \StringTok{"Total charges ($)"}\NormalTok{,}
    \AttributeTok{y =} \StringTok{"Monthly charges ($)"}\NormalTok{,}
    \AttributeTok{title =} \StringTok{"Scatterplot of total and monthly charges by churn"}
\NormalTok{  )}
\end{Highlighting}
\end{Shaded}

\includegraphics{telco_customer_churn_files/figure-latex/unnamed-chunk-30-1.pdf}

Client tenure and monthly charged amount are posivly correlated but not
strongly.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{cor}\NormalTok{(customer\_churn[, }\FunctionTok{c}\NormalTok{(}\StringTok{"tenure"}\NormalTok{, }\StringTok{"MonthlyCharges"}\NormalTok{)])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##                   tenure MonthlyCharges
## tenure         1.0000000      0.3052101
## MonthlyCharges 0.3052101      1.0000000
\end{verbatim}

There is no significant association between gender and churn.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{chisq.test}\NormalTok{(customer\_churn}\SpecialCharTok{$}\NormalTok{gender, customer\_churn}\SpecialCharTok{$}\NormalTok{Churn)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
##  Pearson's Chi-squared test with Yates' continuity correction
## 
## data:  customer_churn$gender and customer_churn$Churn
## X-squared = 2.413, df = 1, p-value = 0.1203
\end{verbatim}

\hypertarget{profiling-and-feature-selection}{%
\section{Profiling and Feature
Selection}\label{profiling-and-feature-selection}}

The Categorical Data Analysis shows the 5 most important categorical
variables to predict the Customer Churn are the contract type, tenure
(new categorical), online security, tech support and internet service.
Diving deep into them, customers who don't leave are assocated with a
two year contract, long tenure and no internet service. On the other
hand, churn is associated with a monthly contract, no online security
nor tech support, fiber optic and very short tenure.

Regarding the quantitative variables, monthly charges is the one which
contributes the most to customer churn, while total charges and tenure
have the opposite effect (negative correlation).

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{catdes}\NormalTok{(customer\_churn, }\AttributeTok{num.var =} \DecValTok{21}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
## Link between the cluster variable and the categorical variables (chi-square test)
## =================================================================================
##                        p.value df
## Contract         7.289325e-198  2
## f.tenure         7.611107e-149  3
## OnlineSecurity   1.156313e-137  2
## TechSupport      1.473778e-136  2
## InternetService  7.013214e-123  2
## PaymentMethod    1.117396e-102  3
## OnlineBackup      9.311539e-98  2
## DeviceProtection  8.994822e-87  2
## f.TotalCharges    3.131128e-72  3
## StreamingMovies   8.219260e-58  2
## StreamingTV       2.479121e-57  2
## f.MonthlyCharges  2.592181e-56  3
## PaperlessBilling  3.996005e-47  1
## SeniorCitizen     2.372494e-30  1
## Dependents        1.092355e-29  1
## Partner           3.288884e-25  1
## MultipleLines     1.723460e-02  2
## 
## Description of each cluster by the categories
## =============================================
## $No
##                                          Cla/Mod  Mod/Cla   Global
## Contract=Two year                       97.02233 29.28108 22.00582
## f.tenure=Very long                      91.54818 28.93160 23.04332
## StreamingMovies=No internet service     92.24377 24.93759 19.71241
## StreamingTV=No internet service         92.24377 24.93759 19.71241
## TechSupport=No internet service         92.24377 24.93759 19.71241
## DeviceProtection=No internet service    92.24377 24.93759 19.71241
## OnlineBackup=No internet service        92.24377 24.93759 19.71241
## OnlineSecurity=No internet service      92.24377 24.93759 19.71241
## InternetService=No                      92.24377 24.93759 19.71241
## Contract=One year                       89.45148 26.46031 21.56898
## PaperlessBilling=No                     83.38572 46.35547 40.53513
## f.MonthlyCharges=Low                    87.93103 28.00799 23.22534
## OnlineSecurity=Yes                      85.30511 34.19870 29.23189
## TechSupport=Yes                         85.15528 34.22366 29.30470
## f.TotalCharges=Very high                85.59201 29.95507 25.51875
## Dependents=Yes                          83.38462 33.82426 29.57772
## SeniorCitizen=No                        75.96426 87.01947 83.52748
## InternetService=DSL                     81.48340 39.21618 35.09283
## Partner=Yes                             79.45573 51.74738 47.48817
## PaymentMethod=Credit card (automatic)   84.38309 24.41338 21.09574
## f.tenure=Long                           81.67388 28.25761 25.22752
## PaymentMethod=Bank transfer (automatic) 82.22789 24.13879 21.40517
## OnlineBackup=Yes                        78.74674 37.64353 34.85621
## PaymentMethod=Mailed check              80.61709 25.43684 23.00692
## DeviceProtection=Yes                    77.22772 36.99451 34.92901
## f.MonthlyCharges=Medium                 76.00849 26.80979 25.71897
## f.TotalCharges=High                     75.62642 24.86271 23.97161
## f.TotalCharges=Medium                   75.05470 25.68647 24.95450
## MultipleLines=Yes                       70.97887 41.08837 42.20968
## StreamingMovies=Yes                     70.05988 37.96805 39.51584
## StreamingTV=Yes                         69.79803 37.09436 38.75137
## f.MonthlyCharges=Very high              67.00000 23.41488 25.48234
## StreamingTV=No                          66.65206 37.96805 41.53622
## StreamingMovies=No                      66.33929 37.09436 40.77175
## f.MonthlyCharges=High                   62.06406 21.76735 25.57335
## Partner=No                              67.00173 48.25262 52.51183
## SeniorCitizen=Yes                       57.45856 12.98053 16.47252
## Dependents=No                           68.51900 66.17574 70.42228
## PaperlessBilling=Yes                    65.77900 53.64453 59.46487
## f.TotalCharges=Low                      55.62678 19.49576 25.55515
## DeviceProtection=No                     61.19583 38.06790 45.35857
## OnlineBackup=No                         60.05609 37.41887 45.43138
## PaymentMethod=Electronic check          54.98681 26.01098 34.49217
## f.tenure=Very short                     49.49359 18.29755 26.95668
## InternetService=Fiber optic             57.83327 35.84623 45.19476
## TechSupport=No                          58.40771 40.83874 50.98289
## OnlineSecurity=No                       58.36007 40.86370 51.05570
## Contract=Month-to-month                 57.19355 44.25861 56.42519
##                                               p.value     v.test
## Contract=Two year                       1.290877e-133  24.599120
## f.tenure=Very long                       2.914158e-76  18.481419
## StreamingMovies=No internet service      7.673135e-69  17.535530
## StreamingTV=No internet service          7.673135e-69  17.535530
## TechSupport=No internet service          7.673135e-69  17.535530
## DeviceProtection=No internet service     7.673135e-69  17.535530
## OnlineBackup=No internet service         7.673135e-69  17.535530
## OnlineSecurity=No internet service       7.673135e-69  17.535530
## InternetService=No                       7.673135e-69  17.535530
## Contract=One year                        2.809313e-54  15.513545
## PaperlessBilling=No                      4.788690e-49  14.720112
## f.MonthlyCharges=Low                     2.468089e-48  14.608805
## OnlineSecurity=Yes                       2.143824e-43  13.812460
## TechSupport=Yes                          1.776808e-42  13.659301
## f.TotalCharges=Very high                 2.946751e-38  12.932602
## Dependents=Yes                           1.819068e-31  11.669774
## SeniorCitizen=No                         2.376078e-28  11.042765
## InternetService=DSL                      8.464706e-27  10.717065
## Partner=Yes                              1.818705e-25  10.429485
## PaymentMethod=Credit card (automatic)    6.353635e-25  10.309947
## f.tenure=Long                            2.867128e-18   8.716587
## PaymentMethod=Bank transfer (automatic)  6.049080e-17   8.364265
## OnlineBackup=Yes                         6.022463e-13   7.199973
## PaymentMethod=Mailed check               6.407316e-13   7.191522
## DeviceProtection=Yes                     1.084049e-07   5.312040
## f.MonthlyCharges=Medium                  2.241328e-03   3.056239
## f.TotalCharges=High                      1.066738e-02   2.553410
## f.TotalCharges=Medium                    3.892362e-02   2.064993
## MultipleLines=Yes                        5.857656e-03  -2.755645
## StreamingMovies=Yes                      1.247025e-04  -3.836692
## StreamingTV=Yes                          3.794169e-05  -4.119669
## f.MonthlyCharges=Very high               1.240463e-08  -5.694070
## StreamingTV=No                           1.895296e-18  -8.763351
## StreamingMovies=No                       1.423518e-19  -9.050472
## f.MonthlyCharges=High                    3.001429e-25 -10.381775
## Partner=No                               1.818705e-25 -10.429485
## SeniorCitizen=Yes                        2.376078e-28 -11.042765
## Dependents=No                            1.819068e-31 -11.669774
## PaperlessBilling=Yes                     4.788690e-49 -14.720112
## f.TotalCharges=Low                       1.893031e-60 -16.400618
## DeviceProtection=No                      3.216747e-71 -17.844024
## OnlineBackup=No                          7.377154e-86 -19.637623
## PaymentMethod=Electronic check          4.391238e-101 -21.344447
## f.tenure=Very short                     7.053631e-117 -22.982016
## InternetService=Fiber optic             6.824939e-117 -22.983447
## TechSupport=No                          7.823611e-141 -25.264623
## OnlineSecurity=No                       2.788848e-142 -25.396044
## Contract=Month-to-month                 3.057383e-220 -31.678659
## 
## $Yes
##                                           Cla/Mod   Mod/Cla   Global
## Contract=Month-to-month                 42.806452 89.180108 56.42519
## OnlineSecurity=No                       41.639929 78.494624 51.05570
## TechSupport=No                          41.592288 78.293011 50.98289
## InternetService=Fiber optic             42.166734 70.362903 45.19476
## f.tenure=Very short                     50.506415 50.268817 26.95668
## PaymentMethod=Electronic check          45.013193 57.325269 34.49217
## OnlineBackup=No                         39.943910 67.002688 45.43138
## DeviceProtection=No                     38.804173 64.986559 45.35857
## f.TotalCharges=Low                      44.373219 41.868280 25.55515
## PaperlessBilling=Yes                    34.220998 75.134409 59.46487
## Dependents=No                           31.481003 81.854839 70.42228
## SeniorCitizen=Yes                       42.541436 25.873656 16.47252
## Partner=No                              32.998267 63.978495 52.51183
## f.MonthlyCharges=High                   37.935943 35.819892 25.57335
## StreamingMovies=No                      33.660714 50.672043 40.77175
## StreamingTV=No                          33.347940 51.142473 41.53622
## f.MonthlyCharges=Very high              33.000000 31.048387 25.48234
## StreamingTV=Yes                         30.201973 43.212366 38.75137
## StreamingMovies=Yes                     29.940120 43.682796 39.51584
## MultipleLines=Yes                       29.021130 45.228495 42.20968
## f.TotalCharges=Medium                   24.945295 22.983871 24.95450
## f.TotalCharges=High                     24.373576 21.572581 23.97161
## f.MonthlyCharges=Medium                 23.991507 22.782258 25.71897
## DeviceProtection=Yes                    22.772277 29.368280 34.92901
## PaymentMethod=Mailed check              19.382911 16.465054 23.00692
## OnlineBackup=Yes                        21.253264 27.352151 34.85621
## PaymentMethod=Bank transfer (automatic) 17.772109 14.045699 21.40517
## f.tenure=Long                           18.326118 17.069892 25.22752
## PaymentMethod=Credit card (automatic)   15.616911 12.163978 21.09574
## Partner=Yes                             20.544270 36.021505 47.48817
## InternetService=DSL                     18.516598 23.991935 35.09283
## SeniorCitizen=No                        24.035738 74.126344 83.52748
## Dependents=Yes                          16.615385 18.145161 29.57772
## f.TotalCharges=Very high                14.407989 13.575269 25.51875
## TechSupport=Yes                         14.844720 16.061828 29.30470
## OnlineSecurity=Yes                      14.694894 15.860215 29.23189
## f.MonthlyCharges=Low                    12.068966 10.349462 23.22534
## PaperlessBilling=No                     16.614279 24.865591 40.53513
## Contract=One year                       10.548523  8.400538 21.56898
## StreamingMovies=No internet service      7.756233  5.645161 19.71241
## StreamingTV=No internet service          7.756233  5.645161 19.71241
## TechSupport=No internet service          7.756233  5.645161 19.71241
## DeviceProtection=No internet service     7.756233  5.645161 19.71241
## OnlineBackup=No internet service         7.756233  5.645161 19.71241
## OnlineSecurity=No internet service       7.756233  5.645161 19.71241
## InternetService=No                       7.756233  5.645161 19.71241
## f.tenure=Very long                       8.451817  7.190860 23.04332
## Contract=Two year                        2.977667  2.419355 22.00582
##                                               p.value     v.test
## Contract=Month-to-month                 3.057383e-220  31.678659
## OnlineSecurity=No                       2.788848e-142  25.396044
## TechSupport=No                          7.823611e-141  25.264623
## InternetService=Fiber optic             6.824939e-117  22.983447
## f.tenure=Very short                     7.053631e-117  22.982016
## PaymentMethod=Electronic check          4.391238e-101  21.344447
## OnlineBackup=No                          7.377154e-86  19.637623
## DeviceProtection=No                      3.216747e-71  17.844024
## f.TotalCharges=Low                       1.893031e-60  16.400618
## PaperlessBilling=Yes                     4.788690e-49  14.720112
## Dependents=No                            1.819068e-31  11.669774
## SeniorCitizen=Yes                        2.376078e-28  11.042765
## Partner=No                               1.818705e-25  10.429485
## f.MonthlyCharges=High                    3.001429e-25  10.381775
## StreamingMovies=No                       1.423518e-19   9.050472
## StreamingTV=No                           1.895296e-18   8.763351
## f.MonthlyCharges=Very high               1.240463e-08   5.694070
## StreamingTV=Yes                          3.794169e-05   4.119669
## StreamingMovies=Yes                      1.247025e-04   3.836692
## MultipleLines=Yes                        5.857656e-03   2.755645
## f.TotalCharges=Medium                    3.892362e-02  -2.064993
## f.TotalCharges=High                      1.066738e-02  -2.553410
## f.MonthlyCharges=Medium                  2.241328e-03  -3.056239
## DeviceProtection=Yes                     1.084049e-07  -5.312040
## PaymentMethod=Mailed check               6.407316e-13  -7.191522
## OnlineBackup=Yes                         6.022463e-13  -7.199973
## PaymentMethod=Bank transfer (automatic)  6.049080e-17  -8.364265
## f.tenure=Long                            2.867128e-18  -8.716587
## PaymentMethod=Credit card (automatic)    6.353635e-25 -10.309947
## Partner=Yes                              1.818705e-25 -10.429485
## InternetService=DSL                      8.464706e-27 -10.717065
## SeniorCitizen=No                         2.376078e-28 -11.042765
## Dependents=Yes                           1.819068e-31 -11.669774
## f.TotalCharges=Very high                 2.946751e-38 -12.932602
## TechSupport=Yes                          1.776808e-42 -13.659301
## OnlineSecurity=Yes                       2.143824e-43 -13.812460
## f.MonthlyCharges=Low                     2.468089e-48 -14.608805
## PaperlessBilling=No                      4.788690e-49 -14.720112
## Contract=One year                        2.809313e-54 -15.513545
## StreamingMovies=No internet service      7.673135e-69 -17.535530
## StreamingTV=No internet service          7.673135e-69 -17.535530
## TechSupport=No internet service          7.673135e-69 -17.535530
## DeviceProtection=No internet service     7.673135e-69 -17.535530
## OnlineBackup=No internet service         7.673135e-69 -17.535530
## OnlineSecurity=No internet service       7.673135e-69 -17.535530
## InternetService=No                       7.673135e-69 -17.535530
## f.tenure=Very long                       2.914158e-76 -18.481419
## Contract=Two year                       1.290877e-133 -24.599120
## 
## 
## Link between the cluster variable and the quantitative variables
## ================================================================
##                      Eta2       P-value
## tenure         0.12128475 1.979905e-156
## TotalCharges   0.04222692  1.839314e-53
## MonthlyCharges 0.03443086  9.474354e-44
## 
## Description of each cluster by quantitative variables
## =====================================================
## $No
##                   v.test Mean in category Overall mean sd in category
## tenure          25.81118         36.59985     31.49090       23.59639
## TotalCharges    15.22999       2569.48786   2285.19491     2331.81229
## MonthlyCharges -13.75241         62.33852     65.68077       30.59264
##                Overall sd       p.value
## tenure           24.07036 6.641649e-147
## TotalCharges   2269.99750  2.236390e-52
## MonthlyCharges   29.55421  4.926294e-43
## 
## $Yes
##                   v.test Mean in category Overall mean sd in category
## MonthlyCharges  13.75241         74.67880     65.68077       24.37750
## TotalCharges   -15.22999       1519.82023   2285.19491     1893.05979
## tenure         -25.81118         17.73656     31.49090       19.51293
##                Overall sd       p.value
## MonthlyCharges   29.55421  4.926294e-43
## TotalCharges   2269.99750  2.236390e-52
## tenure           24.07036 6.641649e-147
\end{verbatim}

\hypertarget{churn-modeling}{%
\section{Churn Modeling}\label{churn-modeling}}

\hypertarget{numeric-variables}{%
\subsection{Numeric variables}\label{numeric-variables}}

From the total charges histogram, the variable is observed as
right-skewed, meaning that it has a long tail on the right side of the
distribution. This can cause problems for the glm such as violating the
assumption of homoscedasticity (the variance of the error term is
constant across different values of the predictor variable) affecting
the accuracy and reliability of the model estimates. Thus, a log
transformation is applied; and a small constant value (0.01) is added
avoiding undefined values.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{hist}\NormalTok{(}
\NormalTok{  customer\_churn}\SpecialCharTok{$}\NormalTok{TotalCharges,}
  \AttributeTok{main =} \StringTok{"Histogram of Total Charges"}\NormalTok{,}
  \AttributeTok{xlab =} \StringTok{"Total Charges"}\NormalTok{,}
  \AttributeTok{col =} \StringTok{"lightblue"}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{telco_customer_churn_files/figure-latex/unnamed-chunk-34-1.pdf}

The numeric variables model fits the data very poorly (null deviance is
6418) although the residual deviance is slightly better (4990). The
Akaike Information Criterion (AIC) which measures the trade-off between
the fit and complexity of the model is 4998, which means that the model
is not very parsimonious.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{model\_numeric }\OtherTok{\textless{}{-}} \FunctionTok{glm}\NormalTok{(}
\NormalTok{  Churn }\SpecialCharTok{\textasciitilde{}}\NormalTok{ tenure }\SpecialCharTok{+}\NormalTok{ MonthlyCharges }\SpecialCharTok{+} \FunctionTok{log}\NormalTok{(TotalCharges }\SpecialCharTok{+} \FloatTok{0.01}\NormalTok{),}
  \AttributeTok{data =}\NormalTok{ customer\_churn,}
  \AttributeTok{family =}\NormalTok{ binomial}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

There is a heteroscedasticity problem, variance of the residuals is not
constant across different values of the predictor nor the fitted values.

Null hypothesis can not be rejected, model is nonlinear, specially on
the log variable.

Observations have large residuals, high leverage and high Cook's
distance, meaning that they do not fit the model well and have a lot of
influence on the model.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{residualPlots}\NormalTok{(model\_numeric)}
\end{Highlighting}
\end{Shaded}

\includegraphics{telco_customer_churn_files/figure-latex/unnamed-chunk-36-1.pdf}

\begin{verbatim}
##                          Test stat Pr(>|Test stat|)    
## tenure                      0.0029           0.9573    
## MonthlyCharges              1.3113           0.2522    
## log(TotalCharges + 0.01)   28.6736        8.566e-08 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{marginalModelPlots}\NormalTok{(model\_numeric)}
\end{Highlighting}
\end{Shaded}

\includegraphics{telco_customer_churn_files/figure-latex/unnamed-chunk-36-2.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(effects)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## lattice theme set by effectsTheme()
## See ?effectsTheme for details.
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{plot}\NormalTok{(}\FunctionTok{allEffects}\NormalTok{(model\_numeric))}
\end{Highlighting}
\end{Shaded}

\includegraphics{telco_customer_churn_files/figure-latex/unnamed-chunk-36-3.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{influencePlot}\NormalTok{(model\_numeric)}
\end{Highlighting}
\end{Shaded}

\includegraphics{telco_customer_churn_files/figure-latex/unnamed-chunk-36-4.pdf}

\begin{verbatim}
##        StudRes          Hat       CookD
## 4381 -1.980869 0.0245460328 0.036288672
## 1341 -2.595079 0.0083612509 0.053328555
## 937  -2.963110 0.0035552485 0.062800062
## 431   3.006052 0.0002008303 0.004512696
## 269   2.972939 0.0002112497 0.004296429
## 3332 -1.978115 0.0246364160 0.036203167
\end{verbatim}

\end{document}
